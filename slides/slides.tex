% vim: set tabstop=2 softtabstop=2 shiftwidth=2 textwidth=80: %

\documentclass[10pt, compress, xcolor={usenames,dvipsnames}]{beamer}
\usepackage[utf8x]{inputenc}

%%% Theme and style
\usetheme{m}

\renewcommand{\emph}[1]{\alert{#1}}


%%% Packages %%%

% Use T1 and a modern font family for better support of accents, etc.
\usepackage[T1]{fontenc}
\usepackage{palatino}  % Palatino

% Language support
\usepackage[english]{babel}

% Support for easily changing the enumerator in
% enumerate-environments.
\usepackage{enumerate}

% Support for importing images
%\usepackage{graphicx}

% Use hyperlinks
\usepackage{hyperref}

% Don't load xcolors package in beamer: use document class option
% instead...
%\usepackage[usenames,dvipsnames]{xcolor}

% Use colors in tables
%\usepackage[pdftex]{colortbl}

% A nice monospace font for listings, etc.
\usepackage[scaled]{beramono}
%\usepackage{inconsolata}

% Using TikZ for diagrams
\usepackage{tikz}
\usetikzlibrary{arrows,fit,matrix,positioning,decorations.pathreplacing}
\usepackage{tikz-cd} % for CM-arrow tips.

% Don't use externalize with gradients!!!
%\usetikzlibrary{external,arrows,fit,matrix,positioning}
%\tikzexternalize % Activate externalizing TikZ graphics.

\usepackage{pifont} % for ding
\usepackage[inline]{enumitem}

% Quotes
\usepackage[most]{tcolorbox}

\newtcolorbox{myquote}[1][]{%
  blanker, oversize,%
  left=5pt, %top=1pt, bottom=1pt,%
  borderline west={2pt}{0pt}{mLightBrown},%
  before upper=\indent,%
  parbox=false,%
  #1}


%%% JSON LISTING

\usepackage{listings}

\colorlet{JSONPUNCTCOLOR}{red!60!black}
\definecolor{JSONBACKGROUNDCOLOR}{HTML}{EEEEEE}
\definecolor{JSONDELIMCOLOR}{RGB}{20,105,176}
\colorlet{JSONNUMBERCOLOR}{magenta!60!black}

\lstdefinelanguage{json}{
    captionpos=b,
    basicstyle=\normalfont\ttfamily\small,
    %numbers=left,
    %numberstyle=\scriptsize,
    %stepnumber=1,
    %numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=none,
    backgroundcolor=\color{JSONBACKGROUNDCOLOR},
    literate=
     *{0}{{{\color{JSONNUMBERCOLOR}0}}}{1}
      {1}{{{\color{JSONNUMBERCOLOR}1}}}{1}
      {2}{{{\color{JSONNUMBERCOLOR}2}}}{1}
      {3}{{{\color{JSONNUMBERCOLOR}3}}}{1}
      {4}{{{\color{JSONNUMBERCOLOR}4}}}{1}
      {5}{{{\color{JSONNUMBERCOLOR}5}}}{1}
      {6}{{{\color{JSONNUMBERCOLOR}6}}}{1}
      {7}{{{\color{JSONNUMBERCOLOR}7}}}{1}
      {8}{{{\color{JSONNUMBERCOLOR}8}}}{1}
      {9}{{{\color{JSONNUMBERCOLOR}9}}}{1}
      {:}{{{\color{JSONPUNCTCOLOR}{:}}}}{1}
      {,}{{{\color{JSONPUNCTCOLOR}{,}}}}{1}
      {\{}{{{\color{JSONDELIMCOLOR}{\{}}}}{1}
      {\}}{{{\color{JSONDELIMCOLOR}{\}}}}}{1}
      {[}{{{\color{JSONDELIMCOLOR}{[}}}}{1}
      {]}{{{\color{JSONDELIMCOLOR}{]}}}}{1},
}
\lstnewenvironment{lstjson}{\lstset{language=json}}{}

%%% JAVA LISTING

% TODO add colors
\lstnewenvironment{lstjava}{\lstset{language=java, basicstyle=\small}}{}


%%%% Custom macros %%%%
\newif\ifcompileTreeSlides
%\compileTreeSlidesfalse
\compileTreeSlidestrue

\newcommand{\REST}[1]{{\color{NavyBlue}\ttfamily{#1}}}


%%% Document info %%%

\title{Large-scale Information Extraction from Neuroscientific Literature}

\author{Marco Antognini}

% To show the TOC at the beginning of each section, uncomment this:
% \AtBeginSection[]
% {
%   \begin{frame}<beamer>{Outline}
%     \tableofcontents[currentsection]
%   \end{frame}
% }

% To show the TOC at the beginning of each subsection, uncomment this:
% \AtBeginSubsection[]
% {
%   \begin{frame}<beamer>{Outline}
%     \tableofcontents[currentsection,currentsubsection]
%   \end{frame}
% }


% To uncover everything in a step-wise fashion, uncomment this:
% \beamerdefaultoverlayspecification{<+->}

\setbeamertemplate{footline}[frame number]

\date{%
  \small Spring 2015\\[2em]
  \includegraphics[height=7mm]{img/epfl-logo}}


%%% Start of the actual document %%%

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

% No outline, too short a talk...
% \begin{frame}{Outline}
%   \tableofcontents
%   % You might wish to add the option [pausesections]
% \end{frame}

% No sections or subsections, too short a talk...
% \section{Motivation}
% \subsection*{}

\begin{frame}[fragile]{Motivation}
  \begin{myquote}
    The ultimate goal of the \emph{Blue Brain Project} is to reverse engineer
    the mammalian brain.
  \end{myquote}

  %\vspace{1em}
  \pause

  \begin{itemize}[label=\ding{228}]

    \item Interactions between brain regions?

    \item What about effects of specific cells?

    \item And connections with other organs?

    \item \ldots and many many more questions.

  \end{itemize}

  %\vspace{1em}

  The neuroscientific \emph{literature} already holds many answers but\ldots

  %\vspace{1em}
  \pause

  % TODO put this on a new slide.
  $\Longrightarrow$ \ldots we need a tool to \emph{extract specific information}
  from this colossal amount of text.

\end{frame}

\begin{frame}[fragile]{bluima}
  UIMA: engines producing \emph{annotations}, usu. implemented in Java.

  bluima focus on neuroscientific engines:

  % TODO list of major tools
  % It includes for example a species engine based on the Linnaeus library [19],
  % or the OpenNLP toolkit [17] to perform PoS tagging, sentence splitting and
  % more. + full brain regions NER and co-occurrences

  % TODO what is an annotation?
  % TODO example: brain regions

  % TODO what is a pipeline?
  % TODO on a new slide
  \begin{lstjava}[language=java]
JCas jCas = UimaTests.getTestCas(text);
runPipeline(
  jCas,
  createEngineDescription(
    SentenceAnnotator.class,
    "modelFile",
    "SentDetectPennBio.bin.gz"
  )
  // TODO add Token+PoS
);
Collection<Sentence> collection =
  JCasUtil.select(jCas, Sentence.class);
  \end{lstjava}

  % TODO But Java is not the best tool for every task
  % TODO present RUTA + Dog example
  % TODO Can invoke engines! + PoS pipeline example
  % TODO missing Engine's configuration -> external XML
  % TODO and not trivial to run (?)
  % TODO What about a RESTful service that everybody can use easily?
  % TODO -> Sherlok!!
\end{frame}

\begin{frame}[fragile]{Example -- Sentences}

  \begin{myquote}
    Terminologies which lack semantic connectivity hamper the effective search
    in biomedical fact databases and document retrieval systems. We here focus
    on the integration of two such isolated resources, the term lists from the
    protein fact database UNIPROT and the indexing vocabulary MESH from the
    bibliographic database MEDLINE.
  \end{myquote}

\end{frame}

\begin{frame}[fragile]{Example -- Sentences (cont.)}

  \REST{GET /annotate/bluima.sentence?text=<\ldots>}

  \vspace{1em}

  \begin{lstjson}
"DocumentAnnotation" : [
  { "begin" : 0,    "end" : 328,  "language" : "en" }
],
"Sentence" : [
  { "begin" : 0,    "end" : 135,
    "componentId" :
        "de.julielab.types.OpenNLPSentenceDetector" },
  { "begin" : 136,  "end" : 32
    "componentId" :
        "de.julielab.types.OpenNLPSentenceDetector" }
]
  \end{lstjson}

\end{frame}

\plain{\Huge Demo!}

\begin{frame}{Thank you!}
  \begin{center}
    \Huge Questions?
  \end{center}
  \vspace{2em}
  \begin{center}
    \emph{Check it out}\vspace{.5em}\\
    \url{http://sherlok.io}\\
  \end{center}
\end{frame}

\end{document}
